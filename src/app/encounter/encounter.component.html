<header>
  <md-toolbar color="primary">
      <span>
        Order of Initiative
      </span>
  </md-toolbar>
  <md-toolbar color="accent">
    <div class="round-count">
      Round: {{roundCount}}
    </div>
    <div class="turn-count">
      Turn: {{turnCount}}
    </div>
    <span class="toolbar-spacer"></span>
    <button mdTooltip="Add Combatant" md-icon-button>
      <md-icon>person_add</md-icon>
    </button>
    <button mdTooltip="Add Party" md-icon-button>
      <md-icon>group_add</md-icon>
    </button>
  </md-toolbar>
</header>
<main flex>
  <md-sidenav-container>
    <md-list>
      <ng-container *ngFor="let combatant of combatants | initiativeOrder; let index = index;">
        <md-list-item class="combatant" [class.active]="index === activeIndex">
          <h2 class="combatant-name" mdLine>
            {{combatant.name}}
            <span (click)="updateHP(combatant)" [class.hp-warning]="combatant.combat.hp <= 0">({{combatant.combat.hp}}/{{combatant.data.maxhp}})</span>
          </h2>
          <p class="combatant-initiative" mdLine>INIT: {{combatant.combat.initiative}}<ng-container *ngIf="combatant.data.ac">, AC: {{combatant.data.ac}}</ng-container></p>
          <p mdLine class="combatant-stats">
          <span *ngFor="let stat of objectKeys(combatant.data.stats)" [hidden]="!stat">
            {{stat | uppercase}}: {{calcModAsString(combatant.data.stats[stat])}}
          </span>
          </p>
          <button md-icon-button [mdMenuTriggerFor]="combatantMenu">
            <md-icon>more_vert</md-icon>
          </button>
          <md-menu #combatantMenu="mdMenu">
            <button md-menu-item (click)="editCombatant($event, combatant)">
              <md-icon>mode_edit</md-icon>
              <span>Edit</span>
            </button>
            <button md-menu-item (click)="removeCombatant(combatant)">
              <md-icon>close</md-icon>
              <span>Remove</span>
            </button>
            <button md-menu-item (click)="cloneCombatant(combatant)">
              <md-icon>content_copy</md-icon>
              <span>Clone</span>
            </button>
          </md-menu>
        </md-list-item>
        <md-divider></md-divider>
      </ng-container>
    </md-list>
    <md-sidenav #combatantInfo mode="side" opened="true" position="end">
      <div>WHERE DOES THIS GO</div>
    </md-sidenav>
  </md-sidenav-container>
</main>
<button md-fab color="warn" class="next-combatant-fab" (click)="nextCombatant()">
  <md-icon>play_arrow</md-icon>
</button>
